import { Inter } from 'next/font/google'
import Head from 'next/head'
import Setting from '@/components/setting'
import styles from '@/styles/Home.module.css'
import Ranking from '@/components/ranking'
import UserID from '@/components/userID'
import Evaluation from '@/components/evaluation'
import { Combobox,Pane } from 'evergreen-ui'
import { User } from '../types/user'
import { useEffect, useState } from 'react';
import { useRouter } from 'next/router'
import axios from "axios"

const inter = Inter({ subsets: ['latin'] })

export default function Home() {
	const  [userID, setUserID] = useState<User[]>([]);

    useEffect(()=>{
        const fetch=async ()=>{
            const res=await axios.get<User[]>("http://localhost:8000/users")
            setUserID(res.data);
        }
        fetch();
    },[])
    
    const userId = userID.map((item) => {
        return item.id
    });

	return (
		<>
			<Head>
				<title>Create Next App</title>
				<meta name='description' content='Generated by create next app' />
				<meta name='viewport' content='width=device-width, initial-scale=1' />
				<link rel='icon' href='/favicon.ico' />
			</Head>
			<main className={`${styles.main} ${inter.className}`}>
				<div>
					<Setting />
					<Ranking />
					<UserID  users={userId}/>
					<Evaluation />
				</div>
			</main>
			
		</>
	)
}


